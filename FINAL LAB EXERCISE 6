FINAL LAB 6
KOTLIN
package com.example.mainactivity 

import android.os.Bundle
import android.view.animation.AnimationUtils
import android.widget.Button
import android.widget.FrameLayout
import android.widget.ImageSwitcher
import android.widget.ImageView
import androidx.appcompat.app.AppCompatActivity 

class MainActivity : AppCompatActivity() { 

    private val images = intArrayOf(R.drawable.ic_save, R.drawable.ic_edit)
    private var currentIndex = 0
    private lateinit var imageSwitcher: ImageSwitcher // Declare here to access in helper function 

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main) 

        imageSwitcher = findViewById(R.id.imageSwitcher)
        val switchButton = findViewById<Button>(R.id.switchImageButton) 

        imageSwitcher.setFactory {
            val imageView = ImageView(applicationContext)
            imageView.scaleType = ImageView.ScaleType.FIT_CENTER
            imageView.layoutParams = FrameLayout.LayoutParams(
                FrameLayout.LayoutParams.MATCH_PARENT,
                FrameLayout.LayoutParams.MATCH_PARENT
            )
            imageView
        } 

        val inAnimation = AnimationUtils.loadAnimation(this, android.R.anim.fade_in)
        val outAnimation = AnimationUtils.loadAnimation(this, android.R.anim.fade_out)
        imageSwitcher.inAnimation = inAnimation
        imageSwitcher.outAnimation = outAnimation 

        imageSwitcher.setImageResource(images[currentIndex])
        updateContentDescription() 

        switchButton.setOnClickListener {
            // Update the index, looping back to 0 if at the end
            currentIndex = (currentIndex + 1) % images.size
            // Set the new image resource
            imageSwitcher.setImageResource(images[currentIndex])
            // Update the accessibility description
            updateContentDescription()
        }
    } 

    private fun updateContentDescription() {
        val description = if (currentIndex == 0) "Save Icon" else "Edit Icon"
        imageSwitcher.contentDescription = description
    }
}


XML
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/pastel_lavender_accent"
    android:padding="24dp"
    tools:context=".MainActivity"> 

    <TextView
        android:id="@+id/switcherLabel"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Image Preview"
        android:textAppearance="@style/TextAppearance.Material3.HeadlineSmall"
        android:textColor="@color/pastel_charcoal_text"
        app:layout_constraintBottom_toTopOf="@id/switcherSubtitle"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        app:layout_constraintVertical_chainStyle="packed" /> 

    <TextView
        android:id="@+id/switcherSubtitle"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="4dp"
        android:text="Use the button below to switch images"
        android:textAppearance="@style/TextAppearance.Material3.BodyMedium"
        android:textColor="@color/pastel_charcoal_text"
        app:layout_constraintBottom_toTopOf="@id/imageSwitcher"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@id/switcherLabel" /> 

    <ImageSwitcher
        android:id="@+id/imageSwitcher"
        android:layout_width="0dp"
        android:layout_height="200dp"
        android:layout_marginTop="24dp"
        android:background="@drawable/background_border_pastel"
        android:elevation="4dp"
        app:layout_constraintBottom_toTopOf="@id/switchImageButton"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@id/switcherSubtitle" /> 

    <Button
        android:id="@+id/switchImageButton"
        style="@style/Widget.Material3.Button"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:layout_marginTop="32dp"
        android:backgroundTint="@color/pastel_pink_primary"
        android:paddingVertical="12dp"
        android:text="Switch Image"
        android:textColor="@color/pastel_charcoal_text"
        android:textSize="16sp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@id/
